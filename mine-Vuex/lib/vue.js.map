{"version":3,"file":"vue.js","sources":["../src/index.js"],"sourcesContent":["let _Vue = null;\nexport default class Vuex {\n  constructor(options) {\n    const state = options.state || {};\n    const mutations = options.mutations || {};\n    const actions = options.actions || {};\n    const getters = options.getters || {};\n    // 直接调用Vue的响应式系统\n    // state的实现\n    this.state = _Vue.observable(state);\n    // getter的实现\n    this.getters = Object.create(null);\n    Object.keys(getters).forEach((key) => {\n      Object.defineProperty(this.getters, key, {\n        get: () => {\n          return getters[key].call(this, this.state);\n        },\n      });\n    });\n    // mutations\n    this.mutations = Object.create(null);\n    Object.keys(mutations).forEach((key) => {\n      this.mutations[key] = (params) => {\n        // 改变this指向 ，默认是要传入 state\n        mutations[key].call(this, this.state, params);\n      };\n    });\n    //action\n    this.actions = Object.create(null);\n    Object.keys(actions).forEach((key) => {\n      this.actions[key] = (params) => {\n        // 改变this指向 ，默认是要传入 store也就是 this\n        actions[key].call(this, this, params);\n      };\n    });\n    // commit\n    this.commit = (eventName, params) => {\n      this.mutations[eventName](params);\n    };\n    this.dispatch = (eventName, params) => {\n      this.actions[eventName](params);\n    };\n  }\n}\n\nVuex.install = function (Vue) {\n  _Vue = Vue;\n  _Vue.mixin({\n    beforeCreate() {\n      if (this.$options.store) {\n        _Vue.prototype.$store = this.$options.store;\n      }\n    },\n  });\n};\n"],"names":["_Vue","Vuex","constructor","options","state","mutations","actions","getters","observable","Object","create","keys","forEach","key","defineProperty","get","call","params","commit","eventName","dispatch","install","Vue","mixin","beforeCreate","$options","store","prototype","$store"],"mappings":"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"}